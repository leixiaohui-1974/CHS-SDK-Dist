# 示例 7：动态任务分配

本示例不再涉及物理模拟，而是演示一种常见的分布式计算模式：使用“管理者-工作者”架构进行动态任务分配，其中工作者从中央管理者处拉取任务。

## 场景

此模拟展示了中央管理者如何根据可用工作者的就绪状态，将计算任务队列分配给工作者池。

该系统由以下部分组成：
1.  **一个 `TaskManagerAgent`**：此智能体充当“管理者”。它持有一个任务队列，并等待工作者宣布自己可用。
2.  **一个 `WorkerAgent` 池**：我们实例化了三个工作者智能体。当一个工作者准备好工作时（在开始时以及完成一个任务后），它会向一个公共的请求主题发布一条 `worker_ready` 消息。管理者收到此消息后，会将单个任务发送到该特定工作者的私有主题。工作者执行其计算，并将结果发送回一个公共的结果主题。

这种“拉取式”架构确保每个任务只由一个工作者处理，并且工作在可用池中动态平衡。一旦管理者收到了其分配的所有任务的结果，模拟便结束。

## 组件与智能体

*   **TaskManagerAgent**：中央管理者。
*   **WorkerAgent (x3)**：一个由三个相同的智能体组成的池，负责执行计算。

本示例不使用任何物理组件。

## 如何运行

要运行此模拟，请执行此目录中的 `run.py` 脚本：

```bash
python run.py
```
您将看到管理者发布任务，工作者们拾取任务并并行处理它们。输出将显示最终的聚合结果。
